<div class="container mt-5 mb-5" id="rsvp">
  <div class="row justify-content-center">
    <div class="">
      <div class="card shadow p-4">
        <h2 class="text-center mb-4">RSVP for Franz & Carla's Wedding</h2>

        <form (ngSubmit)="submitRsvp()">
          <!-- Name Input with Auto-Suggestions -->
          <div class="mb-3">
            <label for="name" class="form-label"
              ><strong>Enter Your Name:</strong></label
            >
            <input
              id="name"
              type="text"
              class="form-control"
              [(ngModel)]="name"
              [ngModelOptions]="{ standalone: true }"
              (input)="filterNames()"
              placeholder="Start typing..."
            />
            <ul class="list-group mt-2" *ngIf="filteredNames.length > 0">
              <li
                class="list-group-item list-group-item-action"
                *ngFor="let suggestion of filteredNames"
                (click)="selectName(suggestion)"
              >
                {{ suggestion }}
              </li>
            </ul>
          </div>

          <!-- RSVP Yes/No -->
          <div class="mb-3" *ngIf="isNameValid()">
            <label class="form-label d-block"
              ><strong>Will you attend?</strong></label
            >
            <div class="form-check form-check-inline">
              <input
                class="form-check-input"
                type="radio"
                name="rsvp"
                [(ngModel)]="rsvpStatus"
                value="yes"
              />
              <label class="form-check-label">Yes</label>
            </div>
            <div class="form-check form-check-inline">
              <input
                class="form-check-input"
                type="radio"
                name="rsvp"
                [(ngModel)]="rsvpStatus"
                value="no"
              />
              <label class="form-check-label">No</label>
            </div>
          </div>

          <!-- Accommodation Question (only if RSVP is Yes) -->
          <div class="mb-3" *ngIf="rsvpStatus === 'yes' && isNameValid()">
            <label class="form-label d-block"
              ><strong>Will you be staying at the venue?</strong></label
            >
            <div class="form-check form-check-inline">
              <input
                class="form-check-input"
                type="radio"
                name="stay"
                [(ngModel)]="stayingOver"
                value="yes"
              />
              <label class="form-check-label">Yes</label>
            </div>
            <div class="form-check form-check-inline">
              <input
                class="form-check-input"
                type="radio"
                name="stay"
                [(ngModel)]="stayingOver"
                value="no"
              />
              <label class="form-check-label">No</label>
            </div>
          </div>

          <!-- Submit Button -->
          <div class="d-grid">
            <button
              class="btn btn-secondary"
              type="submit"
              [disabled]="!isFormValid()"
            >
              Submit RSVP
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
